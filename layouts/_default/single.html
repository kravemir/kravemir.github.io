{{- define "main" }}

<article class="post-single">
  <header class="post-header">
    <h1>
      {{ if hasPrefix .RelPermalink "/how-to/" }}<div class="title-category">How to</div>{{end}}
      {{ .Title }}{{ if hasPrefix .RelPermalink "/product-reviews/" }} review{{end}}
      {{ with .Params.subtitle }}<span class="subtitle">{{.}}</span>{{ end }}
    </h1>
    {{ with .Params.description }}<div class="description">{{ .  | markdownify }}</div> {{ end }}
  </header>

  {{- if .Content }}
  <div class="post-content">

    {{ with .Params.Intro }}<div>{{ .  | markdownify }}</div> {{ end }}

    {{ with .Params.Notes }}
      <div class="proscons">
        <div class="pros">
          <h3>Pros:</h3>
          <ul>
            {{ range .positive }}<li>{{ . }}</li>{{ end }}
          </ul>
        </div>
        <div class="cons">
          <h3>Cons:</h3>
          <ul>
            {{ range .negative }}<li>{{ . }}</li>{{ end }}
          </ul>
        </div>
      </div>
    {{ end }}

    {{ if hasPrefix .RelPermalink "/how-to/" }}
      <p class="how-to-risk-disclaimer">
        <strong>Disclaimer: </strong>
        <span>
                This how to is intended for advanced users.
                You should be able to understand what commands are doing, before copy-pasting and executing them.
              </span>
      </p>
    {{ end }}

    {{- if not (.Param "disableAnchoredHeadings") }}
    {{- partial "anchored_headings.html" .Content -}}
    {{- else }}{{ .Content }}{{ end }}
  </div>
  {{- end }}

  <footer class="post-footer">
    {{- if (and site.Params.ShowShareButtons (ne .Params.disableShare true)) }}
    {{- partial "share_icons.html" . -}}
    {{- end }}
  </footer>
</article>

{{- end }}{{/* end main */}}
